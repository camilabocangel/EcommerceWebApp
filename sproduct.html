<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ecommerce</title>
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />

        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <section id = "header">
            <img src="img/logo.png" class="logo" style="width: 150px; height: auto;">
            <div>
                <ul id="navbar">
                    <li><a href="index.html">Home</a></li>,
                    <li><a class="active"href="shop.html">Shop</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="cart.html"><i class="far fa-shopping-bag"></i></a></li>,
                </ul>
            </div>
        </section>
        <section id="prodetails" class="section-p1">
            <div class="single-pro-image">
                <img src="img/products/Adi2000.png" width="100%" id="MainImg" alt="">

                <div class="small-img-group">
                    <div class="small-img-col">
                        <img src="img/products/Adi2000.png" width="100%" class="small-img" alt="">
                    </div>
                    <div class="small-img-col">
                        <img src="img/products/Adidas Samba OG Cream White Sand Strata.png" width="100%" class="small-img" alt="">
                    </div>
                    <div class="small-img-col">
                        <img src="img/products/Jeremy Scott x Adidas Superstar Money.png" width="100%" class="small-img" alt="">
                    </div>
                    <div class="small-img-col">
                        <img src="img/products/yeezy foam rnr sand.png" width="100%" class="small-img" alt="">
                    </div>
                </div>
            </div>
            <div class="single-pro-details">
                <h6>Home / Sneakers</h6>
                <h4>Adidas Sneakers</h4>
                <h2>$89</h2>
                <select>
                    <option>34</option>
                    <option>37</option>
                    <option>40</option>
                    <option>42</option>
                    <option>44</option>
                </select>
                <input type="number" value="1">
                <button class="normal">Add to Cart</button>
                <h4>Product Details</h4>
                <span>Adidas Adi2000</span>
            </div>
        </section>
        
        <section id="product1" class="section-p1">
            <h2>Featured Products</h2>
            <p>New Designs</p>
            <div class="pro-container">
                <div class="pro">
                    <img src="img/products/Adi2000.png" alt="">
                    <div class="des">
                        <span>Adidas</span>
                        <h5>Adidas Adi2000</h5>
                        <h4>$86</h4>
                    </div>
                    <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
                </div>
                <div class="pro">
                    <img src="img/products/Jeremy Scott x Adidas Superstar Money.png" alt="">
                    <div class="des">
                        <span>Adidas</span>
                        <h5>Jeremy Scott x Adidas Superstar Money</h5>
                        <h4>$86</h4>
                    </div>
                    <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
                </div>
                <div class="pro">
                    <img src="img/products/Adidas Samba OG Cream White Sand Strata.png" alt="">
                    <div class="des">
                        <span>Adidas</span>
                        <h5>Adidas Samba OG Cream White Sand Strata</h5>
                        <h4>$86</h4>
                    </div>
                    <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
                </div>
                <div class="pro">
                    <img src="img/products/yeezy foam rnr sand.png" alt="">
                    <div class="des">
                        <span>Adidas</span>
                        <h5>yeezy foam rnr sand</h5>
                        <h4>$86</h4>
                    </div>
                    <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
                </div>
                <div class="pro">
                    <img src="img/products/Nike Air Rift Black Forest OG.png" alt="">
                    <div class="des">
                        <span>Nike</span>
                        <h5>Nike Air Rift Black Forest OG</h5>
                        <h4>$86</h4>
                    </div>
                    <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
                </div>
                <div class="pro">
                    <img src="img/products/Air Yeezy 2 SP 'Red October'.png" alt="">
                    <div class="des">
                        <span>Nike</span>
                        <h5>Air Yeezy 2 SP 'Red October'</h5>
                        <h4>$86</h4>
                    </div>
                    <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
                </div>
                <div class="pro">
                    <img src="img/products/Nathan Bell x Zoom Fly SP 'Doodles'.png" alt="">
                    <div class="des">
                        <span>Nike</span>
                        <h5>Nathan Bell x Zoom Fly SP 'Doodles' </h5>
                        <h4>$86</h4>
                    </div>
                    <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
                </div>
                <div class="pro">
                    <img src="img/products/Nike SB Dunk Low London.png" alt="">
                    <div class="des">
                        <span>Nike</span>
                        <h5>Nike SB Dunk Low London</h5>
                        <h4>$86</h4>
                    </div>
                    <a href="#"><i class="fal fa-shopping-cart cart"></i></a>
                </div>
            </div>
        </section>
        
        <footer class="section-p1">
            <div class="col">
                <img src="img/logo.png" class="logo" style="width: 150px; height: auto;">
                <h4>Contact</h4>
                <p><strong>Joaquin Aguilera - </strong>78619</p>
                <p><strong>Camila Bocangel - </strong>76625</p>
            </div>
            <div class="col methods">
                <p>Secured Payment Gateways</p>
                <img src="img/pay.png">
            </div>
        </footer>
        <script>
            var MainImg = document.getElementById("MainImg");
            var smallimg = document.getElementsByClassName("small-img")

            smallimg[0].onclick = function(){
                MainImg.src = smallimg[0].src;
            }
            smallimg[1].onclick = function(){
                MainImg.src = smallimg[1].src;
            }
            smallimg[2].onclick = function(){
                MainImg.src = smallimg[2].src;
            }
            smallimg[3].onclick = function(){
                MainImg.src = smallimg[3 ].src;
            }
        </script>

        <script src="script.js"></script>

        <script>
            function getProductId() {
                const params = new URLSearchParams(window.location.search);
                return params.get("id");
            }
        
            const productId = getProductId();
        
            if (productId) {
                fetch(`http://localhost:3000/api/products/${productId}`)
                    .then(response => response.json())
                    .then(product => {
                        document.getElementById("MainImg").src = product.image;
                        document.querySelector(".single-pro-details h4").textContent = product.brand + " " + product.name;
                        document.querySelector(".single-pro-details h2").textContent = "$" + product.price;
                        document.querySelector(".single-pro-details span").textContent = "Year: " + product.year;
        
                        fetch(`/api/products/${productId}/sizes`)
                            .then(response => response.json())
                            .then(sizes => {
                                const select = document.querySelector(".single-pro-details select");
                                select.innerHTML = sizes.map(size => `<option>${size}</option>`).join("");
                            });
                    })
                    .catch(error => console.error("Error fetching product:", error));
            }
        </script>
        

    </body>

</html>